<!doctype html>
<html lang="zh-HK">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>人生破產追蹤器</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- FRONT / LANDING (restored roast-y front page) -->
  <div id="frontPage" class="container">
    <header class="app-header">
      <h1>💀 人生破產追蹤器 — 時間就是金錢</h1>
      <div class="user-info">用 localStorage 記錄你嘅慘況 — 唔會上傳，淨係毒打你自己。</div>
    </header>

    <section class="hero">
      <p class="lead">
        一開即入地獄模式：入返你生日，App 會計算你仲有幾多「人生資本」。
        自動每分鐘扣 $1，浪費時間即係燒錢 — 睇八卦、刷 Reels 都係直接扣你錢。
      </p>
      <ul>
        <li>時間 = 金錢；唔做嘢就等於蝕錢</li>
        <li>毒舌提醒，夾硬做嘢先至可以賺返</li>
        <li>支援番茄鐘專注模式（可關閉）</li>
      </ul>
      <div style="margin-top:16px;">
        <button id="startApp" class="btn btn--primary" type="button">開始用 (入生日)</button>
        <button id="viewRepo" class="btn btn--outline" type="button" onclick="window.open('https://github.com/Cryjai/life-bankruptcy-trackor','_blank')">原作者 Repo</button>
      </div>

      <hr style="margin:20px 0;">
      <div class="toxic-quotes">
        <h4>毒舌精選</h4>
        <blockquote>「人生苦短，你仲唔做嘢？」</blockquote>
        <blockquote>「你個錢燒緊，快啲做task啦」</blockquote>
        <blockquote>「又睇八卦？你條命值錢過八卦咩？」</blockquote>
      </div>
    </section>
  </div>

  <!-- MAIN APP (hidden until setup completed) -->
  <div id="mainApp" class="container hidden">
    <header class="app-header">
      <h1>💀 人生破產追蹤器</h1>
      <div class="user-info">時間就係錢，你仲等緊乜？</div>
    </header>

    <div class="quick-actions">
      <button id="addTaskBtn" class="btn btn--primary" type="button">📝 加Task</button>
      <button id="wasteTimeBtn" class="btn btn--secondary" type="button">💸 浪費時間</button>
      <button id="pomodoroBtn" class="btn btn--accent" type="button">⏱️ 番茄鐘</button>
      <button id="showSummaryBtn" class="btn btn--outline" type="button">📊 今日總結</button>
      <button id="shareProgressBtn" class="btn btn--outline" type="button">🔗 分享進度</button>
    </div>

    <!-- Today's Progress -->
    <div class="progress-section">
      <h3>今日進度</h3>
      <div class="progress-stats">
        <div class="stat">
          <span class="stat-label">完成任務</span>
          <span class="stat-value" id="tasksCompleted">0</span>
        </div>
        <div class="stat">
          <span class="stat-label">賺取金額</span>
          <span class="stat-value stat-positive">$<span id="todayEarned">0</span></span>
        </div>
        <div class="stat">
          <span class="stat-label">現有金額</span>
          <span class="stat-value stat-negative">$<span id="currentMoney">0</span></span>
        </div>
      </div>
    </div>

    <!-- tasks -->
    <div id="tasksList" class="tasks-list"></div>

    <!-- Setup Modal (entered from frontPage) -->
    <div id="setupModal" class="modal hidden" role="dialog" aria-modal="true" aria-label="Setup modal">
      <div class="modal-content" role="document">
        <h3>設定你嘅人生資本</h3>
        <div class="form-group">
          <label for="nameInput">暱稱 (可選)</label>
          <input id="nameInput" class="form-control" placeholder="例如：阿嘉">
        </div>
        <div class="form-group">
          <label for="birthInput">出生日期</label>
          <input id="birthInput" class="form-control" type="date" required>
        </div>
        <div class="modal-actions">
          <button id="saveSetup" class="btn btn--primary" type="button">儲存並開始</button>
          <button id="cancelSetup" class="btn btn--outline" type="button">取消</button>
        </div>
      </div>
    </div>

    <!-- Add Task Modal -->
    <div id="addTaskModal" class="modal hidden" role="dialog" aria-modal="true">
      <div class="modal-content">
        <h3>加新任務</h3>
        <div class="form-group">
          <label for="taskTitle" class="form-label">任務標題</label>
          <input type="text" id="taskTitle" class="form-control" placeholder="例如：溫習數學" required>
        </div>
        <div class="form-group">
          <label for="taskCategory" class="form-label">任務類型</label>
          <select id="taskCategory" class="form-control" required>
            <option value="Study">學習</option>
            <option value="Exercise">運動</option>
            <option value="Reading">睇書</option>
            <option value="Practice">操卷</option>
            <option value="Skill Learning">技能學習</option>
            <option value="Other">其他</option>
          </select>
        </div>
        <div class="form-group">
          <label for="taskImportance" class="form-label">重要度</label>
          <select id="taskImportance" class="form-control" required>
            <option value="low">低</option>
            <option value="medium">中</option>
            <option value="high">高</option>
          </select>
        </div>
        <div class="form-group">
          <label for="taskDescription" class="form-label">描述</label>
          <textarea id="taskDescription" class="form-control" rows="3"></textarea>
        </div>
        <div class="form-row">
          <input id="customReward" type="number" class="form-control" placeholder="自訂獎勵（可選）">
        </div>
        <div class="modal-actions">
          <button id="saveTask" class="btn btn--primary" type="button">儲存</button>
          <button id="cancelTask" class="btn btn--outline" type="button">取消</button>
        </div>
      </div>
    </div>

    <!-- Waste modal -->
    <div id="wasteTimeModal" class="modal hidden" role="dialog" aria-modal="true">
      <div class="modal-content">
        <h3>浪費時間</h3>
        <div class="form-row">
          <button class="btn waste-btn" data-amount="5" type="button">小休 $5</button>
          <button class="btn waste-btn" data-amount="10" type="button">刷手機 $10</button>
          <button class="btn waste-btn" data-amount="30" type="button">看劇 $30</button>
        </div>
        <div class="form-row">
          <input id="customWasteInput" type="number" class="form-control" placeholder="輸入自定金額">
        </div>
        <div class="modal-actions">
          <button id="customWasteBtn" class="btn btn--primary" type="button">記錄浪費</button>
          <button id="cancelWaste" class="btn btn--outline" type="button">取消</button>
        </div>
      </div>
    </div>

    <!-- Summary modal -->
    <div id="summaryModal" class="modal hidden" role="dialog" aria-modal="true">
      <div class="modal-content">
        <h3>今日總結</h3>
        <div class="summary-stats">
          <div class="summary-item"><span>自動扣款：</span><span class="stat-negative">-$<span id="summaryAutoDeduct">0</span></span></div>
          <div class="summary-item summary-net"><span>淨變化：</span><span id="summaryNet">$0</span></div>
        </div>
        <div class="summary-message" id="summaryMessage">你今日表現一般般啦</div>
        <button id="closeSummary" class="btn btn--primary btn--full-width" type="button">知道啦</button>
      </div>
    </div>

    <!-- Pomodoro modal (closeable) -->
    <div id="pomodoroModal" class="modal hidden" role="dialog" aria-modal="true">
      <div class="modal-content" role="document" aria-label="Pomodoro timer">
        <button id="closePomodoro" class="btn btn--outline" style="float:right; padding:6px 8px;" aria-label="Close pomodoro" type="button">✕</button>
        <h3>番茄鐘</h3>
        <div class="form-row">
          <label>工作（分鐘）</label>
          <input id="pomWork" type="number" class="form-control" value="25">
        </div>
        <div class="form-row">
          <label>休息（分鐘）</label>
          <input id="pomBreak" type="number" class="form-control" value="5">
        </div>
        <div class="pom-timer" id="pomTimer">25:00 (work)</div>
        <div class="modal-actions">
          <button id="pomodoroStart" class="btn btn--primary" type="button">開始</button>
          <button id="pomodoroPause" class="btn btn--outline" type="button">暫停</button>
          <button id="pomodoroReset" class="btn btn--secondary" type="button">重設</button>
        </div>
      </div>
    </div>

    <!-- Notification -->
    <div id="notification" class="notification hidden" role="status">
      <span id="notificationText"></span>
    </div>

    <footer class="app-footer">
      <div class="footer-content">&copy; 2025 Acry. All rights reserved.</div>
      <div class="footer-actions">
        <button id="toggleDarkMode" class="btn btn--outline" type="button">🌙 Dark Mode</button>
        <button id="exportBtn" class="btn btn--outline" type="button">匯出資料</button>
        <button id="importBtn" class="btn btn--outline" type="button">匯入資料</button>
      </div>
    </footer>
  </div>

  <script src="app.js"></script>
</body>
</html>
